"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const sql = require("mssql");
var config = {
    user: 'sa',
    password: 'Avanade@2018',
    server: 'localhost',
    database: 'Tech'
};
class Technologies {
    async getTechnologies(req, res, next) {
        let pool = await sql.connect(config);
        let result = await pool.request().query('SELECT Id, Name, Description FROM Tech');
        res.send(result.recordset);
        sql.close();
        return next();
    }
    ;
    async insertTechnology(req, res, next) {
        let pool = await sql.connect(config);
        let result = await pool.request()
            .input('name', sql.VarChar(20), req.body.name)
            .input('description', sql.VarChar(20), req.body.description)
            .query('INSERT INTO Tech VALUES (@name, @description)');
        sql.close();
        res.send(200, { "rowsAffected": result.rowsAffected[0] });
        return next();
    }
    async deleteTechnology(req, res, next) {
        let pool = await sql.connect(config);
        let result = await pool.request()
            .input('id', sql.Int, req.body.id)
            .query('DELETE Tech WHERE ID = @id)');
        sql.close();
        res.send(200, { "rowsAffected": result.rowsAffected[0] });
        return next();
    }
}
exports.Technologies = Technologies;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVjaG5vbG9naWVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3RlY2hub2xvZ2llcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDZCQUE2QjtBQUU3QixJQUFJLE1BQU0sR0FBRztJQUNULElBQUksRUFBRSxJQUFJO0lBQ1YsUUFBUSxFQUFFLGNBQWM7SUFDeEIsTUFBTSxFQUFFLFdBQVc7SUFDbkIsUUFBUSxFQUFFLE1BQU07Q0FDbkIsQ0FBQTtBQUVELE1BQWEsWUFBWTtJQUNkLEtBQUssQ0FBQyxlQUFlLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJO1FBQ3ZDLElBQUksSUFBSSxHQUFHLE1BQU0sR0FBRyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUVyQyxJQUFJLE1BQU0sR0FBRyxNQUFNLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxLQUFLLENBQUMsd0NBQXdDLENBQUMsQ0FBQztRQUVsRixHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUUzQixHQUFHLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDWixPQUFPLElBQUksRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFBQSxDQUFDO0lBRUssS0FBSyxDQUFDLGdCQUFnQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSTtRQUN4QyxJQUFJLElBQUksR0FBRyxNQUFNLEdBQUcsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFckMsSUFBSSxNQUFNLEdBQUcsTUFBTSxJQUFJLENBQUMsT0FBTyxFQUFFO2FBQ2hDLEtBQUssQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQzthQUM3QyxLQUFLLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7YUFDM0QsS0FBSyxDQUFDLCtDQUErQyxDQUFDLENBQUM7UUFFeEQsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ1osR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsRUFBRSxjQUFjLEVBQUUsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDMUQsT0FBTyxJQUFJLEVBQUUsQ0FBQztJQUNsQixDQUFDO0lBRU0sS0FBSyxDQUFDLGdCQUFnQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSTtRQUN4QyxJQUFJLElBQUksR0FBRyxNQUFNLEdBQUcsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFckMsSUFBSSxNQUFNLEdBQUcsTUFBTSxJQUFJLENBQUMsT0FBTyxFQUFFO2FBQ2hDLEtBQUssQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQzthQUNqQyxLQUFLLENBQUMsNkJBQTZCLENBQUMsQ0FBQztRQUV0QyxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDWixHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxFQUFFLGNBQWMsRUFBRSxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMxRCxPQUFPLElBQUksRUFBRSxDQUFDO0lBQ2xCLENBQUM7Q0FDSjtBQXBDRCxvQ0FvQ0MifQ==